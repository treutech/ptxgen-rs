---
source: crates/ptx_backend/tests/fib_ll.rs
expression: actual
---
.version 7.0
.target sm_75
.address_size 64

// Function: fib
// Block: %entry
// Block: %loop
// Block: %body
// Block: %exit
.reg .f32 %b, %i, %0, %a, %out_;
.reg .s32 %n, %bval, %next, %idx, %1, %aval, %sum;
.reg .pred %cond;
.entry fib {
        // local stack allocation: a
        // local stack allocation: b
        // local stack allocation: i
        st.global.f32 a, 0;
        st.global.f32 b, 1;
        st.global.f32 i, 0;
        ld.global.f32 idx, i;
        setp.lt.s32 cond, idx, n;
        ld.global.f32 aval, a;
        // address calc: out_ = out[idx]
        st.global.f32 out_, aval;
        ld.global.f32 bval, b;
        add.s32 sum, aval, bval;
        st.global.f32 a, bval;
        st.global.f32 b, sum;
        add.s32 next, idx, 1;
        st.global.f32 i, next;
}
