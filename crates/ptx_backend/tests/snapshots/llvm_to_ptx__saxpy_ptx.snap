---
source: crates/ptx_backend/tests/llvm_to_ptx.rs
expression: actual
---
.version 7.0
.target sm_75
.address_size 64

// Function: saxpy
// Block: %entry
// Block: %loop
// Block: %body
// Block: %exit
.reg .f32 %y_, %a, %out_, %xval, %yval, %next, %ax, %0, %i, %idx, %res, %x_;
.reg .s32 %next, %1, %idx, %n;
.reg .pred %cmp;
.entry saxpy {
        // local stack allocation: i
        st.global.f32 i, 0;
        ld.global.f32 idx, i;
        setp.lt.s32 cmp, idx, n;
        // address calc: x_ = x[idx]
        // address calc: y_ = y[idx]
        // address calc: out_ = out[idx]
        ld.global.f32 xval, x_;
        ld.global.f32 yval, y_;
        fmul.f32 ax, a, xval;
        fadd.f32 res, ax, yval;
        st.global.f32 out_, res;
        add.s32 next, idx, 1;
        st.global.f32 i, next;
}
